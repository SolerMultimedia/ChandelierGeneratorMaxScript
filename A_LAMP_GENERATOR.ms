--Creado por CARLOS SOLER--(SolerMultimedia@gmail.com)--Video explicativo: https://youtu.be/FDcRi3rOdcA--License: CC-BY-NC-3.0--Variables globales LAMPARA --global mundo = #()PosInicialX=0PosInicialY=0PosInicialZ=0AltEmX=0AltEmY=0AltEmZ=0AlturaMastil=10CuerpoSmooth = false;AlturaSujetaVelas=2AlturaVelas=3IntensidadLuz = 30ArrojarSombras = truePataActual = 0 --Servira para tener control sobre donde estamosNumeroPatas = 4 -- deberia ser entre 2 y 12PatasSmooth=true;AnilloSuperiorActivado = true;ParAnillosSuperior = 3AnilloInferiorActivado=true;ParAnillosInferior = 4AnilloPatasActivado=true;ParAnillosPatas = 2ActivarJoyasInferior = true;JoyaSmoothInferior = false;ActivarJoyasSuperior = true;JoyaSmoothSuperior = false;ActivarJoyasPatas = true;JoyaSmoothPatas = false;--coloresIntensidad=40Intensidad2=1500colorluz= (color 255 255 255)usarLuz=false	usarSombra=false --ColorLuz = (color 255 41 52)--colorEstructura = (color 255 41 52)--colorPatas = (color 255 41 52)--colorSujetaVelas = (color 255 41 52)--colorVelas = (color 255 41 52)--colorAnillos = (color 255 41 52)--colorJoyas = (color 255 41 52)--MaterialesMaterialInferior = undefinedMaterialSuperior = undefinedMaterialMastil = undefinedMaterialPlato = undefinedMaterialPatas = undefinedMaterialSoporte = undefinedMaterialVela = undefinedMaterialAnillos = undefinedMaterialJoyas = undefinedMaterialAnillosInferior = undefinedMaterialJoyasInferior = undefinedMaterialAnillosSuperior = undefinedMaterialJoyasSuperior = undefinedMaterialAnillosPatas = undefinedMaterialJoyasPatas = undefined--Generador de JoyasJoyaRefX=0JoyaRefY=0JoyaRefZ=0--alturaM =14--PosX = 5--PosY = 0 --PosZ = 0--Este metodo no se ha usado, pero sus instrucciones son correctasfn  crearMastil = (Mastil = Cone smooth:on heightsegs:5 capsegs:1 sides:24 height:AlturaMastil radius1:4.223 radius2:2.473 mapcoords:on pos:[PosInicialX,PosInicialY,PosInicialZ] isSelected:onrotate Mastil (angleaxis -90 [1,0,0]))--Generar la estructura inferiorfn  crearEstructuraInferior AlturaM= (Mastil = Cone smooth:on heightsegs:5 capsegs:1 sides:24 height:AlturaM radius1:4.223 radius2:2.473 mapcoords:on pos:[PosInicialX,PosInicialY,PosInicialZ] isSelected:onrotate Mastil (angleaxis -90 [1,0,0])Mastil.material = MaterialMastilappend mundo Mastil AltuEmX=PosInicialX- 2.5AltuEmY=PosInicialYAltuEmZ=PosInicialZ--Arreglar distancias discordantes:AltuEmY=AltuEmY-29.15--AltuEmX=AltuEmX+2.5PointA1=[AltuEmX+0,AltuEmY+0,AltuEmZ+0]PointA2=[AltuEmX+-1,AltuEmY+1,AltuEmZ+0]PointA3=[AltuEmX+-1,AltuEmY+2,AltuEmZ+0]PointA4=[AltuEmX+0,AltuEmY+2,AltuEmZ+0]PointA5=[AltuEmX+-1,AltuEmY+3.5,AltuEmZ+0]PointA6=[AltuEmX+-2,AltuEmY+4.5,AltuEmZ+0]PointA7=[AltuEmX+-1,AltuEmY+5.5,AltuEmZ+0]PointA8=[AltuEmX+-1,AltuEmY+6.5,AltuEmZ+0]PointA9=[AltuEmX+-0.35,AltuEmY+7.6,AltuEmZ+0]PointA10=[AltuEmX+-1,AltuEmY+8.35,AltuEmZ+0]PointA11=[AltuEmX+-1,AltuEmY+9.05,AltuEmZ+0]PointA12=[AltuEmX+-4.6,AltuEmY+13.65,AltuEmZ+0]PointA13=[AltuEmX+-4.6,AltuEmY+14.65,AltuEmZ+0]PointA14=[AltuEmX+-3,AltuEmY+16.65,AltuEmZ+0]PointA15=[AltuEmX+-2,AltuEmY+17.6,AltuEmZ+0]PointA16=[AltuEmX+-2,AltuEmY+18.65,AltuEmZ+0]PointA17=[AltuEmX+-3,AltuEmY+19.65,AltuEmZ+0]PointA18=[AltuEmX+-3.95,AltuEmY+20.65,AltuEmZ+0]PointA19=[AltuEmX+-4.02,AltuEmY+22.644,AltuEmZ+0]PointA20=[AltuEmX+-5.769,AltuEmY+22.644,AltuEmZ+0]PointA21=[AltuEmX+-5.77,AltuEmY+23.65,AltuEmZ+0]PointA22=[AltuEmX+-3.95,AltuEmY+23.65,AltuEmZ+0]PointA23=[AltuEmX+-3.95,AltuEmY+25.65,AltuEmZ+0]PointA24=[AltuEmX+-1.35,AltuEmY+27.1,AltuEmZ+0]PointA25=[AltuEmX+-1.73,AltuEmY+29.15,AltuEmZ+0]clearSelection()  sss = SplineShape pos:pointA1    addNewSpline sss	 sss.name = "line2" addKnot sss 1 #corner #line PointA1 addKnot sss 1 #corner #line PointA2 addKnot sss 1 #corner #line PointA3 addKnot sss 1 #corner #line PointA4 addKnot sss 1 #corner #line PointA5 addKnot sss 1 #corner #line PointA6 addKnot sss 1 #corner #line PointA7 addKnot sss 1 #corner #line PointA8 addKnot sss 1 #corner #line PointA9 addKnot sss 1 #corner #line PointA10 addKnot sss 1 #corner #line PointA11 addKnot sss 1 #corner #line PointA12 addKnot sss 1 #corner #line PointA13 addKnot sss 1 #corner #line PointA14 addKnot sss 1 #corner #line PointA15 addKnot sss 1 #corner #line PointA16 addKnot sss 1 #corner #line PointA17 addKnot sss 1 #corner #line PointA18 addKnot sss 1 #corner #line PointA19 addKnot sss 1 #corner #line PointA20 addKnot sss 1 #corner #line PointA21 addKnot sss 1 #corner #line PointA22 addKnot sss 1 #corner #line PointA23 addKnot sss 1 #corner #line PointA24 addKnot sss 1 #corner #line PointA25    updateShape sss	addModifier sss (Lathe())sss.modifiers[#lathe][1][1].value = [2.5,0,0] -- for positionsss.modifiers[#Lathe].flipNormals = onsss.modifiers[#Lathe].capStart = onsss.modifiers[#Lathe].capEnd = onsss.material = MaterialInferiorappend mundo sss --Creando la estructura superior:--Generar la estructura superior--MUCHO OJO, LA ALTURA debera tener en cuenta la posicion en Y inicial y la ALTURA de la baseAltEmX=PosInicialX+5AltEmY=PosInicialY+AlturaM -- Mucho cuidadoAltEmZ=PosInicialZ+0--11.5--Hay cierta distancia, que se arregla:AltEmX=AltEmX-7.5PointA=[AltEmX+0,AltEmY+0,AltEmZ+0]PointB=[AltEmX+1,AltEmY+1,AltEmZ+0]PointC=[AltEmX+1,AltEmY+3,AltEmZ+0]PointD=[AltEmX+0,AltEmY+5,AltEmZ+0]PointE=[AltEmX+-1,AltEmY+7,AltEmZ+0]PointF=[AltEmX+-3,AltEmY+9,AltEmZ+0]PointG=[AltEmX+-3,AltEmY+10,AltEmZ+0]PointH=[AltEmX+0,AltEmY+10,AltEmZ+0]PointHSupport=[AltEmX+-1.5,AltEmY+11.5,AltEmZ+0]PointI=[AltEmX+-1,AltEmY+15,AltEmZ+0]PointJ=[AltEmX+0.5,AltEmY+16,AltEmZ+0]PointK=[AltEmX+1.5,AltEmY+16,AltEmZ+0]PointL=[AltEmX+2,AltEmY+17,AltEmZ+0]PointM=[AltEmX+2.2,AltEmY+18.5,AltEmZ+0]PointN=[AltEmX+1.7,AltEmY+19.5,AltEmZ+0]PointO=[AltEmX+2.0,AltEmY+20.5,AltEmZ+0]PointP=[AltEmX+2.34,AltEmY+22,AltEmZ+0]clearSelection()  ss = SplineShape pos:pointA  ss.name = "line"  addNewSpline ss  --Select $line--addKnot ss 1 #corner #line PointBase0--  addKnot ss 1 #corner #line PointI-- addKnot ss 1 #corner #line PointH addKnot ss 1 #corner #line PointA addKnot ss 1 #corner #line PointB  addKnot ss 1 #corner #line PointC addKnot ss 1 #corner #line PointD addKnot ss 1 #corner #line PointE  addKnot ss 1 #corner #line PointF addKnot ss 1 #corner #line PointG addKnot ss 1 #corner #line PointHaddKnot ss 1 #corner #line PointHsupport addKnot ss 1 #corner #line PointI addKnot ss 1 #corner #line PointJ addKnot ss 1 #corner #line PointK addKnot ss 1 #corner #line PointL addKnot ss 1 #corner #line PointM addKnot ss 1 #corner #line PointN addKnot ss 1 #corner #line PointO addKnot ss 1 #corner #line PointP    updateShape ss	addModifier ss (Lathe())ss.modifiers[#lathe][1][1].value = [2.5,0,0] -- for positionss.modifiers[#Lathe].flipNormals = onss.modifiers[#Lathe].capStart = onss.modifiers[#Lathe].capEnd = onss.material = MaterialSuperiorappend mundo ssif AnilloSuperiorActivado==true then(AnilloCX = AltEmX+2.50AnilloCY = AltEmY+22+1.445AnilloCZ = AltEmZ+0Pares = 2i = 1for i = 1 to ParAnillosSuperior do(	Torus1 = Torus smooth:2 segs:24 sides:12 radius1:1.2986 radius2:0.164708 mapcoords:on pos:[AnilloCX,Anillocy,anillocz] isSelected:on	AnilloCY = AnilloCY + 2.25	Torus1.material=MaterialAnillosSuperior	Torus2 = Torus smooth:2 segs:24 sides:12 radius1:1.2986 radius2:0.164708 mapcoords:on pos:[AnilloCX,Anillocy,anillocz] isSelected:on		rotate Torus2 (angleaxis -90 [0,1,0])	AnilloCY = AnilloCY + 2.25	Torus2.material=MaterialAnillosSuperior	append mundo Torus1 	append mundo Torus2)))--Generar la curva de soportefn  crearCurva CurvaRefX CurvaRefY  CurvaRefZ cantidadGiro = (--Generar la curva de soporte--Hay que indicar la posicion desde la que sale esta curva, dependera --del lado del circulo del que salga.--La altura en Y no deberia ser distinta, pero X y Z dependeran--del angulo desde el que salgan de la plataforma central.--CurvaRefX=0--CurvaRefY=0--CurvaRefZ=0--Edita esto si editas las coordenadas del punCurvZ5AltMaxCurvaX=CurvaRefX+30.101AltMaxCurvaY=CurvaRefY+10.0AltMaxCurvaZ=CurvaRefZ+0PunCurvA=[CurvaRefX+0,CurvaRefY+0,CurvaRefZ+0]PunCurvB=[CurvaRefX+-0.032,CurvaRefY+4,CurvaRefZ+0]PunCurvC=[CurvaRefX+1.633,CurvaRefY+6.646,CurvaRefZ+0]PunCurvD=[CurvaRefX+3.242,CurvaRefY+8.421,CurvaRefZ+0]PunCurvE=[CurvaRefX+4.998,CurvaRefY+10.0,CurvaRefZ+0]PunCurvF=[CurvaRefX+7.074,CurvaRefY+10.42,CurvaRefZ+0]PunCurvG=[CurvaRefX+8.98,CurvaRefY+10.162,CurvaRefZ+0]PunCurvH=[CurvaRefX+10.274,CurvaRefY+8.719,CurvaRefZ+0]PunCurvI=[CurvaRefX+11.421,CurvaRefY+7.129,CurvaRefZ+0]PunCurvJ=[CurvaRefX+12.478,CurvaRefY+5.054,CurvaRefZ+0]PunCurvK=[CurvaRefX+13.7,CurvaRefY+3,CurvaRefZ+0]PunCurvL=[CurvaRefX+14.626,CurvaRefY+1,CurvaRefZ+0]PunCurvM=[CurvaRefX+15.502,CurvaRefY+-1.054,CurvaRefZ+0]PunCurvN=[CurvaRefX+16.298,CurvaRefY+-3,CurvaRefZ+0]PunCurvO=[CurvaRefX+17.182,CurvaRefY+-5.049,CurvaRefZ+0]PunCurvP=[CurvaRefX+18.154,CurvaRefY+-7.076,CurvaRefZ+0]PunCurvQ=[CurvaRefX+19.549,CurvaRefY+-9,CurvaRefZ+0]PunCurvR=[CurvaRefX+20.9,CurvaRefY+-9.942,CurvaRefZ+0]PunCurvS=[CurvaRefX+22.453,CurvaRefY+-10.603,CurvaRefZ+0]PunCurvT=[CurvaRefX+23.644,CurvaRefY+-10.738,CurvaRefZ+0]PunCurvU=[CurvaRefX+25.175,CurvaRefY+-10.562,CurvaRefZ+0]PunCurvV=[CurvaRefX+26.418,CurvaRefY+-9.916,CurvaRefZ+0]PunCurvW=[CurvaRefX+27.911,CurvaRefY+-8.019,CurvaRefZ+0]PunCurvX=[CurvaRefX+28.951,CurvaRefY+-6.074,CurvaRefZ+0]PunCurvY=[CurvaRefX+29.227,CurvaRefY+-4.048,CurvaRefZ+0]PunCurvZ=[CurvaRefX+29.524,CurvaRefY+-2.048,CurvaRefZ+0]PunCurvZ2=[CurvaRefX+29.766,CurvaRefY+-0.047,CurvaRefZ+0]PunCurvZ3=[CurvaRefX+29.964,CurvaRefY+2.03,CurvaRefZ+0]PunCurvZ4=[CurvaRefX+30.102,CurvaRefY+6.002,CurvaRefZ+0]PunCurvZ5=[CurvaRefX+30.101,CurvaRefY+10.0,CurvaRefZ+0]--Este cilindro debe corresponder al color de la curva.cilindroPreCurva = Cylinder smooth:on heightsegs:5 capsegs:1 sides:18 height:1 radius:0.6 mapcoords:on pos:[CurvaRefX+0,CurvaRefY+0,CurvaRefZ+0] isSelected:onrotate cilindroPreCurva (angleaxis -90 [1,0,0])CilindroPreCurva.material = MaterialPatasappend mundo CilindroPreCurva cilindroPreCurva.pivot = [PosInicialX,PosInicialY,PosInicialZ]rotate cilindroPreCurva (angleaxis -cantidadGiro [0,1,0])--Comprobar que no colisiona mal con el objeto que se va a crear sobre el.cilindroFinCurva = Cylinder smooth:on heightsegs:5 capsegs:1 sides:18 height:1 radius:0.6 mapcoords:on pos:[CurvaRefX+30.101,CurvaRefY+9,CurvaRefZ+0] isSelected:onCilindroFinCurva.material = MaterialPatasrotate cilindroFinCurva (angleaxis -90 [1,0,0])cilindroFinCurva.pivot = [PosInicialX,PosInicialY,PosInicialZ]rotate cilindroFinCurva (angleaxis -cantidadGiro [0,1,0])append mundo CilindroFinCurvaclearSelection()  LineCurva = SplineShape pos:PunCurvALineCurva.pivot = [PosInicialX,PosInicialY,PosInicialZ]addNewSpline LineCurvaLineCurva.name = "Linea Curva" addKnot LineCurva 1 #corner #line PunCurvA  addKnot LineCurva 1 #corner #line PunCurvB addKnot LineCurva 1 #corner #line PunCurvC addKnot LineCurva 1 #corner #line PunCurvD addKnot LineCurva 1 #corner #line PunCurvE addKnot LineCurva 1 #corner #line PunCurvF addKnot LineCurva 1 #corner #line PunCurvG addKnot LineCurva 1 #corner #line PunCurvH addKnot LineCurva 1 #corner #line PunCurvI addKnot LineCurva 1 #corner #line PunCurvJ addKnot LineCurva 1 #corner #line PunCurvK addKnot LineCurva 1 #corner #line PunCurvL addKnot LineCurva 1 #corner #line PunCurvM addKnot LineCurva 1 #corner #line PunCurvN addKnot LineCurva 1 #corner #line PunCurvO addKnot LineCurva 1 #corner #line PunCurvP addKnot LineCurva 1 #corner #line PunCurvQ addKnot LineCurva 1 #corner #line PunCurvR addKnot LineCurva 1 #corner #line PunCurvS addKnot LineCurva 1 #corner #line PunCurvT addKnot LineCurva 1 #corner #line PunCurvU addKnot LineCurva 1 #corner #line PunCurvV addKnot LineCurva 1 #corner #line PunCurvW addKnot LineCurva 1 #corner #line PunCurvX addKnot LineCurva 1 #corner #line PunCurvY addKnot LineCurva 1 #corner #line PunCurvZ addKnot LineCurva 1 #corner #line PunCurvZ2 addKnot LineCurva 1 #corner #line PunCurvZ3 addKnot LineCurva 1 #corner #line PunCurvZ4 addKnot LineCurva 1 #corner #line PunCurvZ5updateShape LineCurvaLineCurva.baseObject.thickness = 1.0LineCurva.baseObject.renderable = trueLineCurva.baseObject.displayRenderMesh = trueupdateShape LineCurvarotate LineCurva (angleaxis -cantidadGiro [0,1,0])LineCurva.material = MaterialPatasappend mundo LineCurva 	if PatasSmooth==true then(		addModifier LineCurva (TurboSmooth())		LineCurva.modifiers[#TurboSmooth].Iterations = 3	)	------ crear velaAltuAntVelY=AlturaSujetaVelas --Altura anterior a la velaAltuVelY=AlturaVelas --altura de la velaPosRefVelaX=CurvaRefX+30.101-0.8PosRefVelaY=CurvaRefY+10PosRefVelaZ=CurvaRefZ+0PunVe1=[PosRefVelaX+0,PosRefVelaY+0,PosRefVelaZ+0]PunVe2=[PosRefVelaX+-0.355,PosRefVelaY+1,PosRefVelaZ+0]PunVe3=[PosRefVelaX+-0.355,PosRefVelaY+1.9,PosRefVelaZ+0]PunVe4=[PosRefVelaX+-0.87,PosRefVelaY+3.055,PosRefVelaZ+0]PunVe5=[PosRefVelaX+-0.872,PosRefVelaY+4,PosRefVelaZ+0]PunVe6=[PosRefVelaX+-0.492,PosRefVelaY+AltuAntVelY+5,PosRefVelaZ+0]PunVe7=[PosRefVelaX+-0.492,PosRefVelaY+ AltuAntVelY+6,PosRefVelaZ+0]--PunVe8=[]AltuRefPlatoY = PosRefVelaY+ AltuAntVelY+6PunVe10=[PosRefVelaX+-0.494,AltuRefPlatoY+0,PosRefVelaZ+0]PunVe11=[PosRefVelaX-1.441,AltuRefPlatoY+1,PosRefVelaZ+0]PunVe12=[PosRefVelaX-1.441,AltuRefPlatoY+1.25,PosRefVelaZ+0]PunVe13=[PosRefVelaX+0.779,AltuRefPlatoY+1.25,PosRefVelaZ+0]AltuRefCilindroY = AltuRefPlatoY+1.25cili = Cylinder smooth:on heightsegs:5 capsegs:1 sides:18 height:1 radius:1 mapcoords:on pos:[PosRefVelaX+0.8,AltuRefCilindroY,PosRefVelaZ] isSelected:oncili.material = MaterialSoporterotate cili (angleaxis -90 [1,0,0])cili.pivot = [PosInicialX,PosInicialY,PosInicialZ]rotate cili (angleaxis -cantidadGiro [0,1,0])append mundo cili --hay que sumar la altura de la vela indicada por pametroAltuRefVelaY = AltuRefCilindroY+1PunVe20=[PosRefVelaX+0,AltuRefVelaY+0,PosRefVelaZ+0]PunVe21=[PosRefVelaX+0,AlturaVelas+AltuRefVelaY+1.75,PosRefVelaZ+0.0]PunVe22=[PosRefVelaX+0,AlturaVelas+AltuRefVelaY+2.75,PosRefVelaZ+0]PunVe23=[PosRefVelaX+0.546,AlturaVelas+AltuRefVelaY+3.75,PosRefVelaZ+0]clearSelection()  LineSoportaVela = SplineShape pos:PunVe1addNewSpline LineSoportaVelaLineSoportaVela.name = "SoportaVelas" addKnot LineSoportaVela 1 #corner #line PunVe1 addKnot LineSoportaVela 1 #corner #line PunVe2 addKnot LineSoportaVela 1 #corner #line PunVe3 addKnot LineSoportaVela 1 #corner #line PunVe4 addKnot LineSoportaVela 1 #corner #line PunVe5 addKnot LineSoportaVela 1 #corner #line PunVe6 addKnot LineSoportaVela 1 #corner #line PunVe7updateShape LineSoportaVelaaddModifier LineSoportaVela (Lathe())LineSoportaVela.modifiers[#lathe][1][1].value = [0.8,0,0] -- for positionLineSoportaVela.modifiers[#Lathe].flipNormals = onLineSoportaVela.modifiers[#Lathe].capStart = onLineSoportaVela.modifiers[#Lathe].capEnd = on	LineSoportaVela.pivot = [PosInicialX,PosInicialY,PosInicialZ]rotate LineSoportaVela (angleaxis -cantidadGiro [0,1,0])LineSoportaVela.material = MaterialPlatoappend mundo LineSoportaVela clearSelection()  LineSoportaVelaPlate = SplineShape pos:PunVe10addNewSpline LineSoportaVelaPlateLineSoportaVelaPlate.name = "SoportaVelasPlato" addKnot LineSoportaVelaPlate 1 #corner #line PunVe10 addKnot LineSoportaVelaPlate 1 #corner #line PunVe11 addKnot LineSoportaVelaPlate 1 #corner #line PunVe12 addKnot LineSoportaVelaPlate 1 #corner #line PunVe13updateShape LineSoportaVelaPlateaddModifier LineSoportaVelaPlate (Lathe())LineSoportaVelaPlate.modifiers[#lathe][1][1].value = [1.293,0,0] -- for positionLineSoportaVelaPlate.modifiers[#Lathe].flipNormals = onLineSoportaVelaPlate.modifiers[#Lathe].capStart = onLineSoportaVelaPlate.modifiers[#Lathe].capEnd = onLineSoportaVelaPlate.pivot = [PosInicialX,PosInicialY,PosInicialZ]rotate LineSoportaVelaPlate (angleaxis -cantidadGiro [0,1,0])LineSoportaVelaPlate.material = MaterialPlatoappend mundo LineSoportaVelaPlate clearSelection()LineVela = SplineShape pos:PunVe20addNewSpline LineVelaLineVela.name = "Linea Vela" addKnot LineVela 1 #corner #line PunVe20 addKnot LineVela 1 #corner #line PunVe21 addKnot LineVela 1 #corner #line PunVe22 addKnot LineVela 1 #corner #line PunVe23updateShape LineVelaaddModifier LineVela (Lathe())LineVela.modifiers[#lathe][1][1].value = [0.8,0,0] -- for positionLineVela.modifiers[#Lathe].flipNormals = onLineVela.modifiers[#Lathe].capStart = onLineVela.modifiers[#Lathe].capEnd = on	LineVela.pivot = [PosInicialX,PosInicialY,PosInicialZ]rotate LineVela (angleaxis -cantidadGiro [0,1,0])LineVela.material = MaterialVelaappend mundo LineVela --IntensidadDefecto:40--color (color 255 255 255)if usarLuz==true then(	if usarSombra==true then(	fl = Free_Light intensityAt:Intensidad webfile:"{00000000-0000-0000-0000-000000000000}" on:on castShadows:on rgb:colorluz intensity:Intensidad2 kelvin:3600 useKelvin:off intensityType:1 originalintensity:1500 useMultiplier:off multiplier:100 shiftColorWhenDimming:off useFarAttenuation:off displayFarAttenuationGizmo:off startFarAttenuation:80 endFarAttenuation:200 contrast:0 softenDiffuseEdge:0 projector:off affectDiffuse:on affectSpecular:on ambientOnly:off targetDistance:240 light_length:48 light_Width:24 light_Radius:5.5 atmosShadows:off atmosOpacity:100 atmosColorAmt:100 shadowMultiplier:1 shadowColorMapEnable:off shadowColor:(color 0 0 0) lightAffectsShadow:off useGlobalShadowSettings:off hotspot:30 falloff:60 showCone:off xRotation:0 yRotation:0 zRotation:0 pos:[PosInicialX-37.6245,1+AlturaVelas+AltuRefVelaY+4.35,PosInicialZ+0] isSelected:on	fl.pivot = [PosInicialX,PosInicialY,PosInicialZ]rotate fl (angleaxis -cantidadGiro [0,1,0])append mundo fl 	)	else(	fl = Free_Light intensityAt:Intensidad webfile:"{00000000-0000-0000-0000-000000000000}" on:on castShadows:off rgb:colorluz  intensity:Intensidad2 kelvin:3600 useKelvin:off intensityType:1 originalintensity:1500 useMultiplier:off multiplier:100 shiftColorWhenDimming:off useFarAttenuation:off displayFarAttenuationGizmo:off startFarAttenuation:80 endFarAttenuation:200 contrast:0 softenDiffuseEdge:0 projector:off affectDiffuse:on affectSpecular:on ambientOnly:off targetDistance:240 light_length:48 light_Width:24 light_Radius:5.5 atmosShadows:on atmosOpacity:100 atmosColorAmt:100 shadowMultiplier:1 shadowColorMapEnable:off shadowColor:(color 0 0 0) lightAffectsShadow:off useGlobalShadowSettings:on hotspot:30 falloff:60 showCone:off xRotation:0 yRotation:0 zRotation:0 pos:[PosInicialX-37.6245,1+AlturaVelas+AltuRefVelaY+4.35,PosInicialZ+0] isSelected:on		fl.pivot = [PosInicialX,PosInicialY,PosInicialZ]rotate fl (angleaxis -cantidadGiro [0,1,0])append mundo fl 		)))				--Generador de anillos (con joyas) hacia abajofn  crearAnilloAbajo AnilloCXAbajo AnilloCYAbajo AnilloCZAbajo ParesAbajo iAbajo angulo joya smuz matA colA matJ colJ= (--Generador de anillos hacia abajo--Variables de base:--AnilloCXAbajo = 5--AnilloCYAbajo = 21--AnilloCZAbajo = 0--ParesAbajo = 1--iAbajo = 1for iAbajo = 1 to ParesAbajo do(	Torus1Abajo = Torus smooth:2 segs:24 sides:12 radius1:1.2986 radius2:0.164708 mapcoords:on pos:[AnilloCXAbajo,AnillocyAbajo,anilloczabajo] isSelected:on	Torus1Abajo.material = matA	--Torus1Abajo.wirecolor = colA	AnilloCYabajo = AnilloCYabajo - 2.25	Torus2Abajo = Torus smooth:2 segs:24 sides:12 radius1:1.2986 radius2:0.164708 mapcoords:on pos:[AnilloCXabajo,Anillocyabajo,anilloczabajo] isSelected:on		Torus2Abajo.material = matA	--Torus2Abajo.material = colA	rotate Torus2Abajo (angleaxis -90 [0,1,0])	AnilloCYabajo = AnilloCYabajo - 2.25	Torus1Abajo.pivot = [PosInicialX,PosInicialY,PosInicialZ]	Torus2Abajo.pivot =[PosInicialX,PosInicialY,PosInicialZ]	rotate Torus1Abajo (angleaxis -angulo [0,1,0])	rotate Torus2Abajo (angleaxis -angulo [0,1,0])	append mundo Torus1Abajo 	append mundo Torus2Abajo )if joya ==true then(--Generador de JoyasJoyaRefX=AnilloCXAbajoJoyaRefY=AnilloCYAbajo+1.30-0.15JoyaRefZ=AnilloCZAbajoAnilloJoyero = Torus smooth:2 segs:22 sides:12 radius1:0.4 radius2:0.025 mapcoords:on pos:[JoyaRefX,JoyaRefY-0.425,JoyaRefZ] isSelected:onAnilloJoyero.material = matA--AnilloJoyero.color = colAAnilloJoyero.pivot = [PosInicialX,PosInicialY,PosInicialZ]rotate AnilloJoyero (angleaxis -angulo [0,1,0])append mundo AnilloJoyero PunJoyaA=[JoyaRefX-0.0,JoyaRefY-0.849,JoyaRefZ+0]PunJoyaB=[JoyaRefX-0.667,JoyaRefY-2.849,JoyaRefZ+0]PunJoyaC=[JoyaRefX+0,JoyaRefY-4.849,JoyaRefZ+0]LineJoya = SplineShape pos:PunJoyaAaddNewSpline LineJoyaLineJoya.name = "Linea Joya" addKnot LineJoya 1 #corner #line PunJoyaA  addKnot LineJoya 1 #corner #line PunJoyaB addKnot LineJoya 1 #corner #line PunJoyaCupdateShape LineJoyaaddModifier LineJoya (Lathe())LineJoya.modifiers[#lathe][1][1].value = [0.002,0,0] -- for positionLineJoya.modifiers[#Lathe].flipNormals = offLineJoya.modifiers[#Lathe].capStart = onLineJoya.modifiers[#Lathe].capEnd = on	if smuz == true then	(addModifier LineJoya (TurboSmooth())LineJoya.modifiers[#TurboSmooth].iterations = 1	)	LineJoya.pivot =[PosInicialX,PosInicialY,PosInicialZ]	rotate LineJoya (angleaxis -angulo [0,1,0])	LineJoya.material = matJ--LineJoya.color = colJ	append mundo LineJoya )fn  crearAnilloArriba AnilloCX AnilloCY AnilloCZ Pares iAbajo = (--Generador de anillos hacia abajo--Variables de base:--AnilloCXAbajo = 5--AnilloCYAbajo = 21--AnilloCZAbajo = 0--ParesAbajo = 1--iAbajo = 1	for i = 1 to Pares do(	Torus1 = Torus smooth:2 segs:24 sides:12 radius1:1.2986 radius2:0.164708 mapcoords:on pos:[AnilloCX,Anillocy,anillocz] isSelected:on	AnilloCY = AnilloCY + 2.25	Torus2 = Torus smooth:2 segs:24 sides:12 radius1:1.2986 radius2:0.164708 mapcoords:on pos:[AnilloCX,Anillocy,anillocz] isSelected:on		rotate Torus2 (angleaxis -90 [0,1,0])	AnilloCY = AnilloCY + 2.25))fn  crearVela = (	AltuAntVelY=1 --Altura anterior a la velaAltuVelY=9 --altura de la velaPosRefVelaX=0PosRefVelaY=0PosRefVelaZ=0PunVe1=[PosRefVelaX+0,PosRefVelaY+0,PosRefVelaZ+0]PunVe2=[PosRefVelaX+-0.355,PosRefVelaY+1,PosRefVelaZ+0]PunVe3=[PosRefVelaX+-0.355,PosRefVelaY+1.9,PosRefVelaZ+0]PunVe4=[PosRefVelaX+-0.87,PosRefVelaY+3.055,PosRefVelaZ+0]PunVe5=[PosRefVelaX+-0.872,PosRefVelaY+4,PosRefVelaZ+0]PunVe6=[PosRefVelaX+-0.492,PosRefVelaY+AltuAntVelY+5,PosRefVelaZ+0]PunVe7=[PosRefVelaX+-0.492,PosRefVelaY+ AltuAntVelY+6,PosRefVelaZ+0]--PunVe8=[]AltuRefPlatoY = PosRefVelaY+ AltuAntVelY+6PunVe10=[PosRefVelaX+-0.494,AltuRefPlatoY+0,PosRefVelaZ+0]PunVe11=[PosRefVelaX-1.441,AltuRefPlatoY+1,PosRefVelaZ+0]PunVe12=[PosRefVelaX-1.441,AltuRefPlatoY+1.25,PosRefVelaZ+0]PunVe13=[PosRefVelaX+0.779,AltuRefPlatoY+1.25,PosRefVelaZ+0]AltuRefCilindroY = AltuRefPlatoY+1.25cili = Cylinder smooth:on heightsegs:5 capsegs:1 sides:18 height:1 radius:1 mapcoords:on pos:[PosRefVelaX+0.8,AltuRefCilindroY,PosRefVelaZ] isSelected:onrotate cili (angleaxis -90 [1,0,0])--hay que sumar la altura de la vela indicada por pametroAltuRefVelaY = AltuRefCilindroY+1PunVe20=[PosRefVelaX+0,AltuRefVelaY+0,PosRefVelaZ+0]PunVe21=[PosRefVelaX+0,AltuVelY+AltuRefVelaY+1.75,PosRefVelaZ+0.0]PunVe22=[PosRefVelaX+0,AltuVelY+AltuRefVelaY+2.75,PosRefVelaZ+0]PunVe23=[PosRefVelaX+0.546,AltuVelY+AltuRefVelaY+3.75,PosRefVelaZ+0]clearSelection()  LineSoportaVela = SplineShape pos:PunVe1addNewSpline LineSoportaVelaLineSoportaVela.name = "SoportaVelas" addKnot LineSoportaVela 1 #corner #line PunVe1 addKnot LineSoportaVela 1 #corner #line PunVe2 addKnot LineSoportaVela 1 #corner #line PunVe3 addKnot LineSoportaVela 1 #corner #line PunVe4 addKnot LineSoportaVela 1 #corner #line PunVe5 addKnot LineSoportaVela 1 #corner #line PunVe6 addKnot LineSoportaVela 1 #corner #line PunVe7updateShape LineSoportaVelaaddModifier LineSoportaVela (Lathe())LineSoportaVela.modifiers[#lathe][1][1].value = [0.8,0,0] -- for positionLineSoportaVela.modifiers[#Lathe].flipNormals = onLineSoportaVela.modifiers[#Lathe].capStart = onLineSoportaVela.modifiers[#Lathe].capEnd = onclearSelection()  LineSoportaVelaPlate = SplineShape pos:PunVe10addNewSpline LineSoportaVelaPlateLineSoportaVelaPlate.name = "SoportaVelasPlato" addKnot LineSoportaVelaPlate 1 #corner #line PunVe10 addKnot LineSoportaVelaPlate 1 #corner #line PunVe11 addKnot LineSoportaVelaPlate 1 #corner #line PunVe12 addKnot LineSoportaVelaPlate 1 #corner #line PunVe13updateShape LineSoportaVelaPlateaddModifier LineSoportaVelaPlate (Lathe())LineSoportaVelaPlate.modifiers[#lathe][1][1].value = [1.293,0,0] -- for positionLineSoportaVelaPlate.modifiers[#Lathe].flipNormals = onLineSoportaVelaPlate.modifiers[#Lathe].capStart = onLineSoportaVelaPlate.modifiers[#Lathe].capEnd = onclearSelection()  LineVela = SplineShape pos:PunVe20addNewSpline LineVelaLineVela.name = "Linea Vela" addKnot LineVela 1 #corner #line PunVe20 addKnot LineVela 1 #corner #line PunVe21 addKnot LineVela 1 #corner #line PunVe22 addKnot LineVela 1 #corner #line PunVe23updateShape LineVelaaddModifier LineVela (Lathe())LineVela.modifiers[#lathe][1][1].value = [0.8,0,0] -- for positionLineVela.modifiers[#Lathe].flipNormals = onLineVela.modifiers[#Lathe].capStart = onLineVela.modifiers[#Lathe].capEnd = on))-- Rollouts --try(destroyDialog lampashide)catch()rollout lampashide "Generador de Lamparas 3D" width:310 height:600(	subRollout rollDentro "Dentro" pos:[5,10] width:300 height:600)rollout datosGlobal "Posicion y Creacion" width:296 height:174(	label posicionLampC "Posición relativa de la lámpara" pos:[68,8] width:150 height:15	spinner posicionLampCX "X: " pos:[24,32] width:64 height:16 range:[-500,500,posinicialx] 	spinner posicionLampCY "Y: " pos:[112,42] width:64 height:16 range:[-500,500,posinicialy] 	spinner posicionLampCZ "Z: " pos:[208,52] width:64 height:16 range:[-500,500,posinicialz] 	button crearLampara "Crear Lampara" pos:[23,70] width:100 height:34	button randParamet "Randomizar Posicion" pos:[152,74] width:120 height:24			on posicionLampCX changed param do(				PosInicialX = posicionLampCX.value	)		on posicionLampCY changed param do(		PosInicialY = posicionLampCY.value	)		on posicionLampCZ changed param do(		PosInicialZ = posicionLampCZ.value	)		on crearLampara pressed do(				o=0		--para borrar la anterior estructura:		for o in mundo do(			if o != undefined and NOT isDeleted o then delete o		)		--AlturaMastil=20		--NumeroPatas=4		if AnilloInferiorActivado==true then(		crearAnilloAbajo PosInicialX (PosInicialY-30) PosInicialZ ParAnillosInferior 1 0 ActivarJoyasInferior JoyaSmoothInferior MaterialAnillosInferior ColorAnillosInferior MaterialJoyasInferior ColorJoyasInferior		)		crearEstructuraInferior AlturaMastil		--Nota: El siguiente codigo puede ser sustituido por un bucle:				if NumeroPatas==2 then(		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 180		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 360			if AnilloPatasActivado==true then (				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 180 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 360 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas			)		)						if NumeroPatas==3 then(		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 120 		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 240		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 360								if AnilloPatasActivado==true then (				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 120 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 240 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 360 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas			)								)										if NumeroPatas==4 then(		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 90 		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 180		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 270		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 360								if AnilloPatasActivado==true then (				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 90 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 180 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 270 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 360 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas			)								)						if NumeroPatas==5 then(		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 72 		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 144		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 216		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 288		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 360						if AnilloPatasActivado==true then (				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 72 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 144 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 216 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 288 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 360 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas			)								)								if NumeroPatas==6 then(		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 60		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 120		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 180		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 240		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 300		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 360						if AnilloPatasActivado==true then (				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 60 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 120 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 180 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 240 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 300 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 360 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas			)								)										if NumeroPatas==7 then(		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ 51.42857142857143		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (51.42857142857143+51.42857142857143)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (51.42857142857143+51.42857142857143+51.42857142857143)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (51.42857142857143*4)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (51.42857142857143*5)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (51.42857142857143*6)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (51.42857142857143*7)						if AnilloPatasActivado==true then (				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 51.42857142857143 ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (51.42857142857143*2) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (51.42857142857143*3) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (51.42857142857143*4) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (51.42857142857143*5) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (51.42857142857143*6) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (51.42857142857143*7) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas			)								)														if NumeroPatas==8 then(		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (45*1)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (45*2)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (45*3)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (45*4)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (45*5)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (45*6)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (45*7)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (45*8)						if AnilloPatasActivado==true then (				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (45*1) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (45*2) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (45*3) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (45*4) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (45*5) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (45*6) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (45*7) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (45*8) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				)								)				if NumeroPatas==9 then(		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (40*1)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (40*2)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (40*3)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (40*4)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (40*5)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (40*6)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (40*7)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (40*8)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (40*9)						if AnilloPatasActivado==true then (				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (40*1) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (40*2) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (40*3) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (40*4) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (40*5) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (40*6) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (40*7) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (40*8) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (40*9) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				)								)						if NumeroPatas==10 then(		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (36*1)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (36*2)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (36*3)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (36*4)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (36*5)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (36*6)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (36*7)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (36*8)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (36*9)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (36*10)						if AnilloPatasActivado==true then (				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (36*1) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (36*2) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (36*3) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (36*4) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (36*5) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (36*6) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (36*7) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (36*8) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (36*9) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (36*10) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				)								)						if NumeroPatas==11 then(		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (32.72727272727273*1)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (32.72727272727273*2)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (32.72727272727273*3)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (32.72727272727273*4)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (32.72727272727273*5)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (32.72727272727273*6)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (32.72727272727273*7)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (32.72727272727273*8)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (32.72727272727273*9)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (32.72727272727273*10)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (32.72727272727273*11)						if AnilloPatasActivado==true then (				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (32.72727272727273*1) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (32.72727272727273*2) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (32.72727272727273*3) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (32.72727272727273*4) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (32.72727272727273*5) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (32.72727272727273*6) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (32.72727272727273*7) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (32.72727272727273*8) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (32.72727272727273*9) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (32.72727272727273*10) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (32.72727272727273*11) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				)								)								if NumeroPatas==12 then(		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*1)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*2)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*3)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*4)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*5)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*6)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*7)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*8)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*9)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*10)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*11)		crearCurva (PosInicialX+7.5) (PosInicialY-5.5) PosInicialZ (30*12)			if AnilloPatasActivado==true then (				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*1) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*2) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*3) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*4) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*5) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*6) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*7) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*8) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*9) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*10) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*11) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				crearAnilloAbajo (PosInicialX+31.2) (PosInicialY-18.1) PosInicialZ ParAnillosPatas 1 (30*12) ActivarJoyasPatas JoyaSmoothPatas MaterialAnillosPatas ColorAnillosPatas MaterialJoyasPatas ColorJoyasPatas				)		)	)		on randParamet pressed do(	   PosicionLampCX.value = random 0 150		PosInicialX = posicionLampCX.value	   PosicionLampCY.value = random 0 150				PosInicialY = posicionLampCY.value	   PosicionLampCZ.value = random 0 150				PosInicialZ = posicionLampCZ.value				))rollout parametros "Parámetros y Materiales" width:295 height:5950(	GroupBox grpLampTY "Longitudes y especificaciones" pos:[13,9] width:259 height:1000	spinner numpatas "Numero de Patas" pos:[55,32] width:176 height:16 range:[2,12,numeroPatas] scale:1 type:#integer		on numpatas changed param do(				numeropatas=numpatas.value			)		label tamañoCast "Alturas:" pos:[18,64] width:104 height:16	spinner spinPilar "Altura Mastil: " pos:[66,88] width:96 height:16 range:[1,120,AlturaMastil] scale:1 type:#integer	spinner spinSujetaVelas "Altura Soporte: " pos:[86,112] width:96 height:16 range:[1,60,AlturaSujetaVelas] scale:1 type:#integer	spinner spinVelas "Altura de la Vela: " pos:[116,136] width:96 height:16 range:[1,60,AlturaVelas] scale:1 type:#integer	button randParamet21 "Random." pos:[212,88] width:50 height:24	button randParamet22 "Random." pos:[212,112] width:50 height:24	button randParamet23 "Random." pos:[212,136] width:50 height:24	button randParamet2 "Randomizar todas las alturas" pos:[30,164] width:220 height:24	on spinPilar changed param do(		AlturaMastil = spinPilar.value	)	on spinSujetaVelas changed param do(		AlturaSujetaVelas = spinSujetaVelas.value	)	on spinVelas changed param do(		AlturaVelas = spinVelas.value	)			on randParamet2 pressed do(	   spinPilar.value = random 0 100		AlturaMastil = spinPilar.value	   spinSujetaVelas.value = random 0 40				AlturaSujetaVelas = spinSujetaVelas.value	   spinVelas.value = random 0 30				AlturaVelas = spinVelas.value				)			on randParamet21 pressed do(	   spinPilar.value = random 0 100		AlturaMastil = spinPilar.value					)			on randParamet22 pressed do(	   spinSujetaVelas.value = random 0 40				AlturaSujetaVelas = spinSujetaVelas.value	 				)			on randParamet23 pressed do(	   spinVelas.value = random 0 30				AlturaVelas = spinVelas.value				)				materialbutton selecMatInferior "Elegir Material Inferior" pos:[22,200] width:130 height:16	colorPicker selecColorInferior "Color: " pos:[174,200] width:68 height:23 title:"Elige un color" color:[153,153,129]	materialbutton selecMatMastil "Elegir Material Mastil" pos:[22,220] width:130 height:16	colorPicker selecColorMastil "Color: " pos:[174,220] width:68 height:23 title:"Elige un color" color:[153,153,129]	materialbutton selecMatSuperior "Elegir Material Superior" pos:[22,240] width:130 height:16	colorPicker selecColorSuperior "Color: " pos:[174,240] width:68 height:23 title:"Elige un color" color:[153,153,129]	materialbutton selecMatSoporte "Elegir Material Soporte" pos:[22,280] width:130 height:16	colorPicker selecColorSoporte "Color: " pos:[174,280] width:68 height:23 title:"Elige un color" color:[153,153,129]	materialbutton selecMatPlato "Elegir Material Plato" pos:[22,260] width:130 height:16	colorPicker selecColorPlato "Color: " pos:[174,260] width:68 height:23 title:"Elige un color" color:[153,153,129]	materialbutton selecMatVela "Elegir Material Vela" pos:[22,300] width:130 height:16	colorPicker selecColorVela "Color: " pos:[174,300] width:68 height:23 title:"Elige un color" color:[153,153,129]	materialbutton selecMatPatas "Elegir Material Patas" pos:[22,320] width:130 height:16	colorPicker selecColorPatas "Color: " pos:[174,320] width:68 height:23 title:"Elige un color" color:[153,153,129]			on selecMatMastil picked mat do 	(		MaterialMastil = undefined		MaterialMastil = mat	)		on selecColorMastil changed new_col do	(		MaterialMastil = undefined		MaterialMastil = standardMaterial diffuse:new_col	)		on selecMatSuperior picked mat do 	(		MaterialSuperior = undefined		MaterialSuperior = mat	)		on selecColorSuperior changed new_col do	(		MaterialSuperior = undefined		MaterialSuperior = standardMaterial diffuse:new_col	)	on selecMatInferior picked mat do 	(		MaterialInferior = undefined		MaterialInferior = mat	)		on selecColorInferior changed new_col do	(		MaterialInferior = undefined		MaterialInferior = standardMaterial diffuse:new_col	)	on selecMatVela picked mat do 	(		MaterialVela = undefined		MaterialVela = mat	)		on selecColorVela changed new_col do	(		MaterialVela = undefined		MaterialVela = standardMaterial diffuse:new_col	)	on selecMatSoporte picked mat do 	(		MaterialSoporte = undefined		MaterialSoporte = mat	)		on selecColorSoporte changed new_col do	(		MaterialSoporte = undefined		MaterialSoporte = standardMaterial diffuse:new_col	)		on selecMatPatas picked mat do 	(		MaterialPatas = undefined		MaterialPatas = mat	)		on selecColorPatas changed new_col do	(		MaterialPatas = undefined		MaterialPatas = standardMaterial diffuse:new_col	)		on selecMatPlato picked mat do 	(		MaterialPlato = undefined		MaterialPlato = mat	)		on selecColorPlato changed new_col do	(		MaterialPlato = undefined		MaterialPlato = standardMaterial diffuse:new_col	)				GroupBox grpAnilloInf "Anillo Inferior" pos:[20,355] width:231 height:159	checkbox activaAnilloInf "Activar Anillo Inferior" pos:[75,370] width:177 height:16 checked:true	spinner paresInferiores "Pares de Anillos: " pos:[124,395] width:60 height:16 range:[1,50,ParAnillosInferior ] scale:1			checkbox lockJoyaInf "Añadir Joya" pos:[45,420] width:77 height:16 checked:true	checkbox lockSmoothInf "Joya con Suavidad" pos:[130,420] width:107 height:16 checked:false	on  paresInferiores changed param do(		ParAnillosInferior  = paresInferiores.value	)	on activaAnilloInf changed theState do 	(		if activaAnilloInf.checked then(		AnilloInferiorActivado=true;		)		else(			AnilloInferiorActivado=false;		)	)			on lockJoyaInf changed theState do 	(		if lockJoyaInf.checked then(		activarjoyasinferior=true;		)		else(			activarjoyasinferior=false;		)	)				on lockSmoothInf changed theState do 	(		if lockSmoothInf.checked then(		joyasmoothinferior=true;		)		else(			joyasmoothinferior=false;		)	)		label materialesAnilloinf "Material y color" pos:[87,450] width:120 height:15	materialbutton selecMatAnilloInf "Elegir Material Anillo" pos:[30,470] width:130 height:16	colorPicker selecColorAnilloinf "Color: " pos:[165,470] width:68 height:23 title:"Elige un color" color:[153,153,129]	materialbutton selecMatAnilloInfJoya "Elegir Material Joya" pos:[30,490] width:130 height:16	colorPicker selecColorAnilloinfJoya "Color: " pos:[165,490] width:68 height:23 title:"Elige un color" color:[153,153,129]		on selecMatAnilloInf picked mat do 	(		MaterialAnillosInferior = undefined		MaterialAnillosInferior  = mat	)		on selecColorAnilloInf changed new_col do	(		MaterialAnillosInferior = undefined		MaterialAnillosInferior = standardMaterial diffuse:new_col	)			on selecMatAnilloInfJoya picked mat do 	(		MaterialJoyasInferior = undefined		MaterialJoyasInferior  = mat	)		on selecColorAnilloInfJoya changed new_col do	(	MaterialJoyasInferior = undefined		MaterialJoyasInferior = standardMaterial diffuse:new_col	)			GroupBox grpAnilloSup "Anillo Superior" pos:[20,520] width:231 height:159	checkbox activaAnilloSup "Activar Anillo Superior" pos:[75,550] width:177 height:16 checked:true	spinner paresSuperiores "Pares de Anillos: " pos:[124,580] width:60 height:16 range:[1,50,ParAnillosSuperior ] scale:1			on  paresSuperiores changed param do(		ParAnillosSuperior  = paresSuperiores.value	)	on activaAnilloSup changed theState do 	(		if activaAnilloSup.checked then(		AnilloSuperiorActivado=true;		)		else(			AnilloSuperiorActivado=false;		)	)			on lockJoyaSup changed theState do 	(		if lockJoyaInf.checked then(		activarjoyassuperior=true;		)		else(			activarjoyassuperior=false;		)	)		on lockSmoothSup changed theState do 	(		if lockSmoothSup.checked then(		joyasmoothsuperior=true;		)		else(			joyasmoothsuperior=false;		)	)		label materialesAnillosup "Material y color" pos:[87,610] width:120 height:15	materialbutton selecMatAnillosup "Elegir Material Anillo" pos:[30,635] width:130 height:16	colorPicker selecColorAnillosup "Color: " pos:[165,635] width:68 height:23 title:"Elige un color" color:[153,153,129]		on selecMatAnilloSup picked mat do 	(		MaterialAnillosSuperior = undefined		MaterialAnillosSuperior  = mat	)		on selecColorAnilloSup changed new_col do	(		MaterialAnillosSuperior = undefined		MaterialAnillosSuperior = standardMaterial diffuse:new_col	)			GroupBox grpAnilloPatas "Anillos de las Patas" pos:[20,680] width:231 height:159	checkbox activaAnilloPatas "Activar anillos de patas" pos:[75,700] width:177 height:16 checked:true	spinner paresPatas "Pares de Anillos: " pos:[124,720] width:60 height:16 range:[1,50,ParAnillosPatas ] scale:1			checkbox lockJoyaPatas "Añadir Joya" pos:[45,740] width:77 height:16 checked:true	checkbox lockSmoothPatas "Joya con Suavidad" pos:[130,740] width:107 height:16 checked:false	on  paresPatas changed param do(		ParAnillosPatas  = paresPatas.value	)	on activaAnilloPatas changed theState do 	(		if activaAnilloPatas.checked then(		AnilloPatasActivado=true;		)		else(			AnilloPatasActivado=false;		)	)			on lockJoyaPatas changed theState do 	(		if lockJoyaPatas.checked then(		activarjoyaspatas=true;		)		else(			activarjoyaspatas=false;		)	)				on lockSmoothPatas changed theState do 	(		if lockSmoothPatas.checked then(		joyasmoothpatas=true;		)		else(			joyasmoothpatas=false;		)	)	label materialesAnillopatas "Material y color" pos:[87,770] width:120 height:15	materialbutton selecMatAnillopatas "Elegir Material Anillo" pos:[30,790] width:130 height:16	colorPicker selecColorAnillopatas "Color: " pos:[165,790] width:68 height:23 title:"Elige un color" color:[153,153,129]	materialbutton selecMatAnilloPatasJoya "Elegir Material Joya" pos:[30,810] width:130 height:16	colorPicker selecColorAnilloPatasJoya "Color: " pos:[165,810] width:68 height:23 title:"Elige un color" color:[153,153,129]	on selecMatAnilloPatas picked mat do 	(		MaterialAnillosPatas = undefined		MaterialAnillosPatas  = mat	)	on selecColorAnilloPatas changed new_col do	(		MaterialAnillosPatas = undefined		MaterialAnillosPatas = standardMaterial diffuse:new_col	)		on selecMatAnilloPatasJoya picked mat do 	(		MaterialJoyasPatas = undefined		MaterialJoyaspatas  = mat	)		on selecColorAnillopatasjoya changed new_col do	(		MaterialJoyaspatas = undefined		MaterialJoyaspatas = standardMaterial diffuse:new_col	)			GroupBox grpLuces "Luces de Relleno (experimental)" pos:[20,840] width:231 height:159	label labelluz1 "Nota: Son luces de ambiente." pos:[40,860] width:170 height:15	label labelluz2 "Para iluminación de las velas se" pos:[40,880] width:170 height:15	label labelluz3 "recomienda usar Self-Illumination + Glow" pos:[40,900] width:210 height:15	checkbox acLuz "Activar Luz" pos:[40,920] width:70 height:16 checked:false	checkbox acSombra "Activar Sombras" pos:[130,920] width:107 height:16 checked:false	spinner intensitylight "IntensityAt: " pos:[80,940] width:60 height:16 range:[1,7000,Intensidad ] scale:1			--colorPicker colorlight "Color: " pos:[165,940] width:68 height:23 title:"Elige un color" color:[153,153,129]	spinner intensitylight2 "Intensidad: " pos:[140,960] width:60 height:16 range:[1,10000,Intensidad2 ] scale:1					on  intensityLight changed param do(		Intensidad  = intensitylight.value	)			on  intensityLight2 changed param do(		Intensidad2  = intensitylight2.value	)		on acLuz changed theState do 	(		if acLuz.checked then(		usarluz=true;		)		else(			usarluz=false;		)	)			on acSombra changed theState do 	(		if acSombra.checked then(		usarsombra=true;		)		else(			usarsombra=false;		)	)			--on colorlight changed new_col do	--(	--	colorluz = new_col	--)		)createdialog lampashideAddSubRollout lampashide.rollDentro datosGlobalAddSubRollout lampashide.rollDentro parametros